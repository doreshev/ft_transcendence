// import { Socket } from 'socket.io';
//
// // Define the types for the session object and session store
// interface Session {
//     sessionID: string;
//     userID: string;
//     username: string;
// }
//
// interface SessionStore {
//     findSession(sessionID: string): Session | undefined;
// }
//
// // Define the middleware function to be used with Socket.IO
// const middleware = (socket: Socket, next: (err?: any) => void) => {
//     const sessionID = socket.handshake.auth.sessionID;
//
//     if (sessionID) {
// // Find existing session
//         const session = sessionStore.findSession(sessionID);
//         if (session) {
//             socket.sessionID = sessionID;
//             socket.userID = session.userID;
//             socket.username = session.username;
//             return next();
//         }
//     }
//
//     const username = socket.handshake.auth.username;
//
//     if (!username) {
//         return next(new Error("Invalid username"));
//     }
//
// // Create new session
//     socket.sessionID = 123;
//     socket.userID = 132;
//     socket.username = username;
//     next();
// };